{% extends 'airbnbclone/base.html' %}

{% block body %}
{% include 'airbnbclone/filter_navbar.html' %}

<div class="results_container">
    <div class="homes">
        <p>300 + Homes</p>
        {% for listing in listings %}
        <div class="home">
            <a href="{% url 'airbnbclone:listing' listing_id=listing.id %}">
                <img src="https://a0.muscache.com/im/pictures/117df0b2-1034-4222-8679-74c8a6f62e59.jpg?aki_policy=xx_large" alt="Image here">
            </a>
            <p>{{listing.listing_type}}, {{listing.bed}} beds</p>
            <p>{{listing.name}}</p>
            <p>from {{listing.price}} per night - Free cancellation</p>
            <p>5/5 stars</p>

        </div>
        {% endfor %}
    </div>
    <div class="map-container">
        <div id="map"></div>
    </div>
    
</div>

{% endblock %}

{% block scripts %}
<script>
  var map;
  function initMap() {
    map = new google.maps.Map(document.getElementById('map'), {
      center: {lat: -34.397, lng: 150.644},
      zoom: 15
    });
  }
</script>
<script src="https://maps.googleapis.com/maps/api/js?key={{api_key}}&callback=initMap"
async defer></script>
{% endblock %}